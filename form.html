<!DOCTYPE html>
<html lang="en">

    <body>
        <div id="root"></div>

        <script src="https://unpkg.com/react@16.12.0/umd/react.production.min.js"></script>
        <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.production.min.js"></script>
        <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>

        <script type="text/babel">

            const UsernameForm = () => {

                const [uname, setUname] = React.useState("");
                const isLowerCase = uname == uname.toLowerCase();
                const error = isLowerCase ? "" : "Username must be lower case";

                const usernameRef = React.useRef();

                const handleChange = (event) => {
                    setUname(event.target.value);
                };

                const handleSubmit = (event) => {
                    event.preventDefault()
                    //const username = document.querySelector("input").value;
                    //const username = event.target[0].value;
                    //const username = event.target.elements[0].value;
                    //const username = event.target.elements.usernameInput.value;
                    const username = usernameRef.current.value;
                    console.log("Submitted!")
                    alert(`You entered ${username}`);
                };

                return (<form onSubmit={handleSubmit}>
                    <div>
                        <label htmlfor="usernameInput">Username:</label>
                        <input ref={usernameRef} id="usernameInput" type="text" onChange={handleChange}/>
                        <div style={{color: "red"}}>{error}</div>
                        <button disabled={Boolean(error)} type="submit">Submit</button>
                    </div>
                </form>);
            }

            ReactDOM.render(<UsernameForm/>, document.getElementById("root"));
        </script>
    </body>

</html>